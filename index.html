<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Blue Bell Cafe - Premium Fast Food | Karachi</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700;800&family=Playfair+Display:wght@700&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
    <script src="https://unpkg.com/html5-qrcode@2.3.8/html5-qrcode.min.js"></script>
    <style>
        body {
            font-family: 'Poppins', sans-serif;
            background-color: #000814;
            color: white;
        }
        
        .geometric-pattern {
            background-color: #000814;
            background-image: 
                linear-gradient(30deg, #001a33 12%, transparent 12.5%, transparent 87%, #001a33 87.5%, #001a33),
                linear-gradient(150deg, #001a33 12%, transparent 12.5%, transparent 87%, #001a33 87.5%, #001a33),
                linear-gradient(30deg, #001a33 12%, transparent 12.5%, transparent 87%, #001a33 87.5%, #001a33),
                linear-gradient(150deg, #001a33 12%, transparent 12.5%, transparent 87%, #001a33 87.5%, #001a33),
                linear-gradient(60deg, #002244 25%, transparent 25.5%, transparent 75%, #002244 75%, #002244),
                linear-gradient(60deg, #002244 25%, transparent 25.5%, transparent 75%, #002244 75%, #002244);
            background-size: 40px 70px;
            background-position: 0 0, 0 0, 20px 35px, 20px 35px, 0 0, 20px 35px;
        }
        
        .menu-card {
            background: rgba(0, 102, 204, 0.9);
            border: 2px solid #00d4ff;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.5);
        }
        
        .price-tag {
            background: #00d4ff;
            color: black;
            padding: 4px 12px;
            border-radius: 20px;
            font-weight: bold;
            display: inline-block;
            margin-bottom: 10px;
        }
        
        .category-btn {
            background: rgba(0, 102, 204, 0.5);
            border: 1px solid #00d4ff;
            color: white;
            padding: 8px 16px;
            border-radius: 20px;
            margin: 5px;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .category-btn:hover, .category-btn.active {
            background: #00d4ff;
            color: black;
        }
        
        .add-btn {
            background: #00d4ff;
            color: black;
            border: none;
            padding: 8px 16px;
            border-radius: 20px;
            cursor: pointer;
            font-weight: bold;
        }
        
        .cart-box {
            position: fixed;
            right: 20px;
            top: 100px;
            background: rgba(0, 26, 51, 0.95);
            border: 2px solid #00d4ff;
            border-radius: 12px;
            padding: 20px;
            width: 300px;
            max-height: 400px;
            overflow-y: auto;
            z-index: 1000;
        }
        
        .hidden { display: none; }
        
        .gallery-img {
            width: 100%;
            height: 250px;
            object-fit: cover;
            border-radius: 12px;
            border: 2px solid #00d4ff;
        }
        
        .hero-img {
            width: 100%;
            max-width: 800px;
            height: 400px;
            object-fit: cover;
            border-radius: 20px;
            border: 3px solid #00d4ff;
        }
        
        .table-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 15px;
            max-width: 400px;
            margin: 0 auto;
        }
        
        .table-btn {
            aspect-ratio: 1;
            border: 2px solid #00d4ff;
            background: rgba(0, 102, 204, 0.3);
            border-radius: 10px;
            color: white;
            font-weight: bold;
            cursor: pointer;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }
        
        .table-btn.selected {
            background: #00ff88;
            color: black;
        }
        
        .table-btn.booked {
            background: #ff4444;
            cursor: not-allowed;
        }
        
        .receipt-container {
            background: white;
            color: black;
            padding: 30px;
            border-radius: 10px;
            width: 100%;
            max-width: 400px;
            margin: 0 auto;
        }
        
        .booking-id {
            background: linear-gradient(135deg, #00d4ff, #0099ff);
            color: black;
            padding: 15px;
            border-radius: 8px;
            font-size: 1.8rem;
            font-weight: bold;
            text-align: center;
            margin: 15px 0;
            letter-spacing: 3px;
        }
        
        .modal {
            position: fixed;
            inset: 0;
            background: rgba(0,0,0,0.9);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 2000;
            padding: 20px;
            overflow-y: auto;
        }
        
        .modal-content {
            background: linear-gradient(135deg, #001a33 0%, #000814 100%);
            border: 2px solid #00d4ff;
            border-radius: 20px;
            padding: 30px;
            width: 100%;
            max-width: 500px;
            max-height: 90vh;
            overflow-y: auto;
        }
        
        .modal-content-receipt {
            background: white;
            border-radius: 20px;
            width: 100%;
            max-width: 450px;
            max-height: 95vh;
            overflow-y: auto;
            box-shadow: 0 20px 50px rgba(0,0,0,0.5);
        }
        
        .time-slot {
            background: rgba(0, 102, 204, 0.3);
            border: 1px solid #00d4ff;
            padding: 10px;
            border-radius: 8px;
            cursor: pointer;
            text-align: center;
        }
        
        .time-slot.selected {
            background: #00d4ff;
            color: black;
        }
        
        .admin-card {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 12px;
            padding: 20px;
        }
        
        .status-badge {
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: bold;
        }
        
        .status-pending { background: #fbbf24; color: black; }
        .status-checked { background: #10b981; color: white; }
        
        #reader {
            border: 2px solid #00d4ff !important;
            border-radius: 12px;
            overflow: hidden;
        }
        
        .download-btn {
            background: linear-gradient(135deg, #00d4ff 0%, #0099ff 100%);
            color: black;
            border: none;
            padding: 15px;
            border-radius: 10px;
            font-weight: bold;
            font-size: 1.1rem;
            cursor: pointer;
            width: 100%;
            margin-top: 15px;
            transition: transform 0.3s;
        }
        
        .download-btn:hover {
            transform: scale(1.05);
        }

        .sync-warning {
            background: #ff6b6b;
            color: white;
            padding: 10px;
            border-radius: 8px;
            text-align: center;
            margin-bottom: 15px;
            font-size: 0.9rem;
        }
    </style>
</head>
<body class="geometric-pattern">

    <!-- Header -->
<header class="fixed top-0 w-full bg-black z-50 py-2 px-4 shadow-lg" style="background-color: #000814 !important; height: 60px;">
    <div class="max-w-7xl mx-auto flex justify-between items-center h-full">
        <div class="flex-shrink-0">
            <h1 class="text-xl font-bold text-white leading-tight">üîî Blue Bell Cafe</h1>
            <p class="text-cyan-400 text-xs leading-tight">A-586 11 B, North Karachi | 0321-2223727</p>
        </div>
        <div class="flex gap-2">
            <button onclick="openAdmin()" class="bg-purple-600 px-3 py-1.5 rounded-full text-white font-semibold hover:bg-purple-500 transition text-xs">
                üîê Staff
            </button>
            <button onclick="openReservation()" class="bg-green-600 px-3 py-1.5 rounded-full text-white font-semibold hover:bg-green-500 transition text-xs">
                Book
            </button>
            <button onclick="toggleCart()" class="bg-blue-600 px-3 py-1.5 rounded-full text-white text-xs">
                Cart(<span id="cart-count">0</span>)
            </button>
        </div>
    </div>
</header>
    

    <!-- Hero -->
    <section class="pt-32 pb-10 px-4 text-center">
        <h2 class="text-5xl font-bold mb-4 text-white">Premium Fast Food</h2>
        <p class="text-xl text-gray-300 mb-8">Best Chinese, BBQ, Steaks & Burgers in Town</p>
        
        <img src="Screenshot 2026-02-08 140953.png" alt="Blue Bell Cafe" class="hero-img mx-auto mb-8">
        
        <div class="flex gap-4 justify-center flex-wrap">
            <button onclick="openReservation()" class="bg-gradient-to-r from-green-500 to-green-600 text-white px-8 py-4 rounded-full font-bold text-lg shadow-lg hover:scale-105 transition">
                üìÖ Reserve Table Now
            </button>
            <button onclick="document.getElementById('menu').scrollIntoView({behavior: 'smooth'})" class="bg-gradient-to-r from-blue-500 to-cyan-500 text-white px-8 py-4 rounded-full font-bold text-lg shadow-lg hover:scale-105 transition">
                üçî Order Food
            </button>
        </div>
    </section>

    <!-- Gallery -->
    <section class="px-4 py-10 bg-black/30">
        <div class="max-w-7xl mx-auto">
            <h3 class="text-3xl font-bold text-center mb-8 text-cyan-400">Our Beautiful Space</h3>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                <div class="relative">
                    <img src="Screenshot 2026-02-08 141006.png" alt="Dining" class="gallery-img">
                    <div class="absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent p-4 rounded-b-12">
                        <p class="text-white font-semibold">Elegant Dining Area</p>
                    </div>
                </div>
                <div class="relative">
                    <img src="Screenshot 2026-02-08 141017.png" alt="VIP" class="gallery-img">
                    <div class="absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent p-4 rounded-b-12">
                        <p class="text-white font-semibold">VIP Lounge</p>
                    </div>
                </div>
                <div class="relative">
                    <img src="Screenshot 2026-02-08 140953.png" alt="Open Air" class="gallery-img">
                    <div class="absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent p-4 rounded-b-12">
                        <p class="text-white font-semibold">Open Air Seating</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Menu -->
    <section id="menu" class="px-4 mb-8 sticky top-20 bg-black/80 py-4 z-40">
        <div class="max-w-7xl mx-auto flex flex-wrap justify-center">
            <button class="category-btn active" onclick="showCategory('all')">All</button>
            <button class="category-btn" onclick="showCategory('chinese')">Chinese</button>
            <button class="category-btn" onclick="showCategory('pasta')">Pasta</button>
            <button class="category-btn" onclick="showCategory('starters')">Starters</button>
            <button class="category-btn" onclick="showCategory('broast')">Broast</button>
            <button class="category-btn" onclick="showCategory('bbq')">BBQ</button>
            <button class="category-btn" onclick="showCategory('steaks')">Steaks</button>
            <button class="category-btn" onclick="showCategory('burgers')">Burgers</button>
            <button class="category-btn" onclick="showCategory('rolls')">Rolls</button>
            <button class="category-btn" onclick="showCategory('sandwiches')">Sandwiches</button>
            <button class="category-btn" onclick="showCategory('drinks')">Drinks</button>
        </div>
    </section>

    <!-- Menu Grid -->
    <section class="px-4 pb-20">
        <div class="max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6" id="menu-container">
        </div>
    </section>

    <!-- Cart -->
    <div id="cart-sidebar" class="cart-box hidden">
        <h3 class="text-xl font-bold mb-4 text-cyan-400">Your Order</h3>
        <div id="cart-items"></div>
        <div class="mt-4 pt-4 border-t border-blue-500">
            <p class="text-lg">Total: <span id="cart-total" class="text-cyan-400 font-bold">Rs. 0</span></p>
            <button onclick="checkout()" class="w-full mt-2 bg-cyan-400 text-black py-2 rounded font-bold">Order on WhatsApp</button>
        </div>
    </div>

    <!-- Reservation Modal -->
    <div id="reservation-modal" class="modal hidden">
        <div class="modal-content">
            <div class="flex justify-between items-center mb-4">
                <h2 class="text-2xl font-bold text-cyan-400">Book Your Table</h2>
                <button onclick="closeReservation()" class="text-gray-400 hover:text-white text-2xl">√ó</button>
            </div>

            <div class="sync-warning">
                ‚ö†Ô∏è Please use the same device/browser for booking and check-in
            </div>

            <div id="step1">
                <div class="mb-4">
                    <label class="block text-sm mb-2">Your Name *</label>
                    <input type="text" id="res-name" class="w-full p-3 rounded bg-blue-900/50 border border-blue-500 text-white" placeholder="Enter your name">
                </div>
                
                <div class="mb-4">
                    <label class="block text-sm mb-2">Phone Number *</label>
                    <input type="tel" id="res-phone" class="w-full p-3 rounded bg-blue-900/50 border border-blue-500 text-white" placeholder="03XX-XXXXXXX">
                </div>

                <div class="grid grid-cols-2 gap-4 mb-4">
                    <div>
                        <label class="block text-sm mb-2">Date *</label>
                        <input type="date" id="res-date" class="w-full p-3 rounded bg-blue-900/50 border border-blue-500 text-white">
                    </div>
                    <div>
                        <label class="block text-sm mb-2">People *</label>
                        <select id="res-people" class="w-full p-3 rounded bg-blue-900/50 border border-blue-500 text-white">
                            <option value="2">2 People</option>
                            <option value="4">4 People</option>
                            <option value="6">6 People</option>
                            <option value="8">8 People</option>
                            <option value="10">10+ People</option>
                        </select>
                    </div>
                </div>

                <div class="mb-4">
                    <label class="block text-sm mb-2">Select Time *</label>
                    <div class="grid grid-cols-3 gap-2" id="time-slots">
                        <div class="time-slot" onclick="selectTime(this, '12:00 PM')">12:00 PM</div>
                        <div class="time-slot" onclick="selectTime(this, '1:00 PM')">1:00 PM</div>
                        <div class="time-slot" onclick="selectTime(this, '2:00 PM')">2:00 PM</div>
                        <div class="time-slot" onclick="selectTime(this, '6:00 PM')">6:00 PM</div>
                        <div class="time-slot" onclick="selectTime(this, '7:00 PM')">7:00 PM</div>
                        <div class="time-slot" onclick="selectTime(this, '8:00 PM')">8:00 PM</div>
                        <div class="time-slot" onclick="selectTime(this, '9:00 PM')">9:00 PM</div>
                        <div class="time-slot" onclick="selectTime(this, '10:00 PM')">10:00 PM</div>
                        <div class="time-slot" onclick="selectTime(this, '11:00 PM')">11:00 PM</div>
                    </div>
                </div>

                <button onclick="goToStep2()" class="w-full bg-cyan-400 text-black py-3 rounded-lg font-bold hover:bg-cyan-300 transition">Next: Select Table</button>
            </div>

            <div id="step2" class="hidden">
                <p class="text-center mb-4 text-gray-300">Click on available table (Green = Available, Red = Booked)</p>
                <div class="table-grid mb-6" id="table-grid"></div>
                <div class="flex gap-3">
                    <button onclick="backToStep1()" class="flex-1 bg-gray-600 text-white py-3 rounded-lg font-bold">Back</button>
                    <button onclick="confirmReservation()" class="flex-1 bg-green-500 text-black py-3 rounded-lg font-bold">Confirm Booking</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Receipt Modal -->
    <div id="receipt-modal" class="modal hidden" style="align-items: flex-start; padding-top: 20px;">
        <div class="modal-content-receipt">
            <div id="receipt-content" style="padding: 30px; background: white;">
                <div class="text-center border-b-2 border-dashed border-gray-400 pb-4 mb-4">
                    <h2 class="text-3xl font-bold text-blue-600">üîî BLUE BELL CAFE</h2>
                    <p class="text-sm text-gray-600 mt-1">A-586 11 B, North Karachi</p>
                    <p class="text-sm text-gray-600">Tel: 0321-2223727</p>
                    <p class="text-xs text-gray-500 mt-1">Premium Fast Food Restaurant</p>
                </div>
                
                <div class="text-center mb-4">
                    <p class="text-sm text-gray-600 font-bold uppercase tracking-wider">Table Reservation</p>
                    <div class="booking-id" id="booking-id">BB-78452</div>
                </div>

                <div style="background: #f8f9fa; padding: 15px; border-radius: 8px; margin-bottom: 20px;">
                    <div style="display: flex; justify-content: space-between; border-bottom: 1px solid #ddd; padding: 8px 0;">
                        <span style="color: #666;"><strong>Customer:</strong></span>
                        <span id="receipt-name" style="font-weight: 600;">John Doe</span>
                    </div>
                    <div style="display: flex; justify-content: space-between; border-bottom: 1px solid #ddd; padding: 8px 0;">
                        <span style="color: #666;"><strong>Phone:</strong></span>
                        <span id="receipt-phone" style="font-weight: 600;">03XX-XXXXXXX</span>
                    </div>
                    <div style="display: flex; justify-content: space-between; border-bottom: 1px solid #ddd; padding: 8px 0;">
                        <span style="color: #666;"><strong>Date:</strong></span>
                        <span id="receipt-date" style="font-weight: 600;">2024-01-15</span>
                    </div>
                    <div style="display: flex; justify-content: space-between; border-bottom: 1px solid #ddd; padding: 8px 0;">
                        <span style="color: #666;"><strong>Time:</strong></span>
                        <span id="receipt-time" style="font-weight: 600; color: #0066CC;">7:00 PM</span>
                    </div>
                    <div style="display: flex; justify-content: space-between; border-bottom: 1px solid #ddd; padding: 8px 0;">
                        <span style="color: #666;"><strong>Guests:</strong></span>
                        <span id="receipt-people" style="font-weight: 600;">4 People</span>
                    </div>
                    <div style="display: flex; justify-content: space-between; padding: 8px 0;">
                        <span style="color: #666;"><strong>Table Number:</strong></span>
                        <span id="receipt-table" style="font-weight: 600; font-size: 1.3rem; color: #00aa00;">Table 5</span>
                    </div>
                </div>

                <div style="text-align: center; margin-bottom: 20px;">
                    <div id="qrcode" style="display: inline-block; padding: 15px; background: white; border: 3px solid #00d4ff; border-radius: 15px;"></div>
                    <p style="font-size: 0.8rem; color: #666; margin-top: 10px;">Scan this QR code at entrance</p>
                </div>
                
                <div style="background: #fff3cd; border: 1px solid #ffc107; border-radius: 8px; padding: 15px; text-align: center; margin-bottom: 15px;">
                    <p style="font-weight: bold; color: #856404; margin-bottom: 5px;">‚ö†Ô∏è IMPORTANT</p>
                    <p style="font-size: 0.85rem; color: #856404;">Show this receipt at reception and it will be scan by staff</p>
                </div>

                <div style="text-align: center; padding-top: 15px; border-top: 1px solid #ddd;">
                    <p style="font-size: 0.85rem; color: #666;">Thank you for choosing Blue Bell Cafe!</p>
                    <p style="font-size: 0.75rem; color: #999; margin-top: 5px;">Booked on: <span id="booking-time"></span></p>
                </div>
            </div>

            <div style="padding: 20px; background: #f8f9fa; border-top: 2px solid #e5e7eb;">
                <button onclick="downloadReceiptImage()" class="download-btn">
                    üì∏ Download Receipt Image
                </button>
                <button onclick="printReceipt()" style="width: 100%; margin-top: 10px; background: #6c757d; color: white; padding: 12px; border-radius: 8px; font-weight: bold; border: none; cursor: pointer;">
                    üñ®Ô∏è Print Receipt
                </button>
                <button onclick="closeReceipt()" style="width: 100%; margin-top: 10px; background: #dc3545; color: white; padding: 12px; border-radius: 8px; font-weight: bold; border: none; cursor: pointer;">
                    Close
                </button>
            </div>
        </div>
    </div>

    <!-- Admin Login Modal - NO DEFAULT CREDENTIALS -->
    <div id="admin-login-modal" class="modal hidden">
        <div class="modal-content" style="max-width: 400px;">
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-2xl font-bold text-purple-400">üîê Staff Login</h2>
                <button onclick="closeAdminLogin()" class="text-gray-400 hover:text-white text-2xl">√ó</button>
            </div>
            
            <div class="mb-4">
                <label class="block text-sm mb-2">Username</label>
                <input type="text" id="admin-user" class="w-full p-3 rounded bg-blue-900/50 border border-blue-500 text-white" placeholder="Enter username">
            </div>
            
            <div class="mb-6">
                <label class="block text-sm mb-2">Password</label>
                <input type="password" id="admin-pass" class="w-full p-3 rounded bg-blue-900/50 border border-blue-500 text-white" placeholder="Enter password">
            </div>
            
            <button onclick="loginAdmin()" class="w-full bg-purple-600 text-white py-3 rounded-lg font-bold hover:bg-purple-500">Login</button>
            
            <!-- NO DEFAULT CREDENTIALS SHOWN -->
        </div>
    </div>

    <!-- Admin Dashboard -->
    <div id="admin-dashboard" class="modal hidden">
        <div class="modal-content" style="max-width: 900px; width: 95%;">
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-2xl font-bold text-purple-400">üë®‚Äçüíº Staff Dashboard</h2>
                <div class="flex gap-3">
                    <button onclick="openScanner()" class="bg-green-600 px-4 py-2 rounded-lg text-white font-bold text-sm">üì∑ Scan QR</button>
                    <button onclick="logoutAdmin()" class="bg-red-600 px-4 py-2 rounded-lg text-white font-bold text-sm">Logout</button>
                    <button onclick="closeAdminDashboard()" class="text-gray-400 hover:text-white text-2xl">√ó</button>
                </div>
            </div>

            <div class="mb-6 flex gap-3">
                <input type="text" id="search-booking" class="flex-1 p-3 rounded bg-blue-900/50 border border-blue-500 text-white" placeholder="Search by Booking ID or Phone..." onkeyup="searchBookings()">
                <button onclick="refreshBookings()" class="bg-blue-600 px-6 py-3 rounded-lg text-white font-bold">üîÑ</button>
            </div>

            <div class="grid grid-cols-3 gap-4 mb-6">
                <div class="admin-card text-center">
                    <div class="text-3xl font-bold text-yellow-400" id="stat-pending">0</div>
                    <div class="text-sm text-gray-400">Pending</div>
                </div>
                <div class="admin-card text-center">
                    <div class="text-3xl font-bold text-green-400" id="stat-checked">0</div>
                    <div class="text-sm text-gray-400">Checked In</div>
                </div>
                <div class="admin-card text-center">
                    <div class="text-3xl font-bold text-cyan-400" id="stat-total">0</div>
                    <div class="text-sm text-gray-400">Total Today</div>
                </div>
            </div>

            <div class="max-h-96 overflow-y-auto" id="bookings-list">
            </div>
        </div>
    </div>

    <!-- QR Scanner -->
    <div id="scanner-modal" class="modal hidden">
        <div class="modal-content" style="max-width: 600px;">
            <div class="flex justify-between items-center mb-4">
                <h2 class="text-xl font-bold text-green-400">üì∑ Scan Booking QR Code</h2>
                <button onclick="closeScanner()" class="text-gray-400 hover:text-white text-2xl">√ó</button>
            </div>
            
            <div style="width: 100%; max-width: 500px; margin: 0 auto;">
                <div id="reader"></div>
            </div>
            
            <p class="text-center text-gray-400 mt-4">Point camera at customer's QR code</p>
            
            <div id="scan-result" class="mt-4 hidden">
                <div class="bg-green-900/50 border border-green-500 rounded-lg p-4 text-center">
                    <p class="text-green-400 font-bold text-lg">‚úÖ Booking Verified!</p>
                    <p id="scan-details" class="text-white mt-2"></p>
                    <button onclick="markCheckedIn()" class="mt-3 bg-green-500 text-black px-6 py-2 rounded-lg font-bold">Mark as Checked In</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="bg-black/80 border-t border-blue-500/30 py-10 px-4 text-center">
        <h3 class="text-2xl font-bold mb-4">üîî Blue Bell Cafe</h3>
        <p class="text-gray-400 mb-2">A-586 11 B, North Karachi, Karachi 74700</p>
        <p class="text-cyan-400 text-xl mb-4">üìû 0321-2223727</p>
        <p class="text-gray-500 text-sm">Open Daily: 12:00 PM - 12:00 AM</p>
    </footer>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script>
        // Data
        const menuItems = [
            {name: "Chicken Shashlik", category: "chinese", price: 1200, desc: "Tender chicken with bell peppers"},
            {name: "Chicken Chilli Dry", category: "chinese", price: 1150, desc: "Spicy dry chicken with green chilies"},
            {name: "Beef Chilli Dry", category: "chinese", price: 1300, desc: "Spicy beef strips"},
            {name: "Chicken Manchurian", category: "chinese", price: 1100, desc: "Classic Manchurian balls"},
            {name: "Chicken Chilli Vegetable", category: "chinese", price: 1100, desc: "Mixed vegetables with chicken"},
            {name: "Chicken Chowmein", category: "chinese", price: 800, desc: "Stir-fried noodles"},
            {name: "Vegetable Chowmein", category: "chinese", price: 600, desc: "Veg noodles"},
            {name: "Vegetable Fried Rice", category: "chinese", price: 450, desc: "Veg fried rice"},
            {name: "Chicken Fried Rice", category: "chinese", price: 550, desc: "Chicken fried rice"},
            {name: "Garlic Fried Rice", category: "chinese", price: 550, desc: "Garlic flavored rice"},
            {name: "Alfredo Pasta", category: "pasta", price: 1100, desc: "Creamy white sauce"},
            {name: "Marinara Pasta", category: "pasta", price: 1000, desc: "Tomato sauce pasta"},
            {name: "Mushroom Pasta", category: "pasta", price: 1000, desc: "Creamy mushroom"},
            {name: "Regular Fries", category: "starters", price: 320, desc: "Classic fries"},
            {name: "Masala Fries", category: "starters", price: 350, desc: "Spiced fries"},
            {name: "Loaded Cheese Fries", category: "starters", price: 510, desc: "Cheese topped fries"},
            {name: "Fish & Chips", category: "starters", price: 1200, desc: "Fried fish with fries"},
            {name: "Chicken Strips", category: "starters", price: 750, desc: "6 crispy strips"},
            {name: "Chicken Nuggets (9)", category: "starters", price: 600, desc: "Golden nuggets"},
            {name: "Mayo Garlic Fries", category: "starters", price: 420, desc: "Fries with mayo garlic"},
            {name: "Qtr. Broast (Leg)", category: "broast", price: 450, desc: "Quarter chicken leg"},
            {name: "Qtr. Broast (Chest)", category: "broast", price: 500, desc: "Quarter chicken chest"},
            {name: "Chicken Tikka (Leg)", category: "bbq", price: 500, desc: "Grilled spicy leg"},
            {name: "Chicken Tikka (Chest)", category: "bbq", price: 550, desc: "Grilled spicy chest"},
            {name: "Malai Boti", category: "bbq", price: 700, desc: "Creamy grilled boti"},
            {name: "Reshmi Kabab", category: "bbq", price: 700, desc: "Soft seekh kabab"},
            {name: "Beef Bihari Boti", category: "bbq", price: 800, desc: "Traditional Bihari"},
            {name: "Chicken Spicy Boti", category: "bbq", price: 700, desc: "Spicy grilled boti"},
            {name: "Chicken Mushroom", category: "steaks", price: 1300, desc: "With mushroom sauce"},
            {name: "Chicken Mexican", category: "steaks", price: 1250, desc: "Mexican style"},
            {name: "Moroccan Chicken", category: "steaks", price: 1350, desc: "Moroccan spiced"},
            {name: "Tarragon Chicken", category: "steaks", price: 1400, desc: "French herb flavor"},
            {name: "Beef Mexican Steak", category: "steaks", price: 1800, desc: "Spicy beef"},
            {name: "Beef Mushroom Steak", category: "steaks", price: 1850, desc: "Beef with mushrooms"},
            {name: "BB Special Chicken Steak", category: "steaks", price: 1500, desc: "House special"},
            {name: "BB Special Beef Steak", category: "steaks", price: 1900, desc: "Premium beef"},
            {name: "Chicken Cheese Burger", category: "burgers", price: 500, desc: "Grilled with cheese"},
            {name: "Chicken Zinger Burger", category: "burgers", price: 520, desc: "Crispy zinger"},
            {name: "BB Chicken Burger", category: "burgers", price: 480, desc: "Special recipe"},
            {name: "BB Beef Burger", category: "burgers", price: 600, desc: "Juicy beef"},
            {name: "Beef Cheese Burger", category: "burgers", price: 600, desc: "Beef with cheese"},
            {name: "Beef Jalapeno Burger", category: "burgers", price: 650, desc: "Spicy jalapeno"},
            {name: "Chicken Zinger Cheese", category: "burgers", price: 600, desc: "Zinger with cheese"},
            {name: "BB Chicken Cheese", category: "burgers", price: 560, desc: "Special with cheese"},
            {name: "BB Beef Cheese", category: "burgers", price: 680, desc: "Special beef cheese"},
            {name: "Chicken Chatni Roll", category: "rolls", price: 250, desc: "With special chatni"},
            {name: "Chicken Mayo Roll", category: "rolls", price: 260, desc: "Creamy mayo"},
            {name: "Chicken Cheese Roll", category: "rolls", price: 280, desc: "Cheesy roll"},
            {name: "Chicken Reshmi Kabab Roll", category: "rolls", price: 280, desc: "With reshmi kabab"},
            {name: "Chicken Malai Chatni Roll", category: "rolls", price: 280, desc: "Malai with chatni"},
            {name: "Blue BB Zinger Roll", category: "rolls", price: 380, desc: "Special zinger"},
            {name: "Beef Bihari Roll", category: "rolls", price: 350, desc: "Bihari boti roll"},
            {name: "Chicken Malai Boti Sandwich", category: "sandwiches", price: 500, desc: "Grilled sandwich"},
            {name: "Club Sandwich", category: "sandwiches", price: 600, desc: "Triple decker"},
            {name: "Grilled Chicken Sandwich", category: "sandwiches", price: 780, desc: "Healthy grilled"},
            {name: "B.B.Q Sandwich", category: "sandwiches", price: 620, desc: "BBQ chicken"},
            {name: "Soft Drink 300ml", category: "drinks", price: 120, desc: "Coke/Sprite/Fanta"},
            {name: "Soft Drink 500ml", category: "drinks", price: 160, desc: "Large soft drink"},
            {name: "Soft Drink Can", category: "drinks", price: 150, desc: "Can drink"},
            {name: "Pakola", category: "drinks", price: 120, desc: "Green pakola"},
            {name: "Water Small", category: "drinks", price: 60, desc: "500ml water"},
            {name: "Water Big", category: "drinks", price: 110, desc: "1.5L water"},
            {name: "Tea", category: "drinks", price: 200, desc: "Pakistani tea"}
        ];

        let cart = [];
        let currentCategory = 'all';
        let reservationData = {};
        let selectedTable = null;
        let bookings = JSON.parse(localStorage.getItem('bluebell_bookings')) || [];
        let currentScanBooking = null;
        let html5QrCode = null;
        let currentBooking = null;

        // Menu Functions
        function loadItems() {
            const container = document.getElementById('menu-container');
            container.innerHTML = '';
            
            const itemsToShow = currentCategory === 'all' 
                ? menuItems 
                : menuItems.filter(item => item.category === currentCategory);
            
            itemsToShow.forEach(item => {
                const card = document.createElement('div');
                card.className = 'menu-card';
                card.innerHTML = `
                    <h3 class="text-xl font-bold mb-2">${item.name}</h3>
                    <p class="text-gray-300 mb-3">${item.desc}</p>
                    <div class="price-tag">Rs. ${item.price}</div>
                    <br>
                    <button class="add-btn mt-2" onclick="addToCart('${item.name}', ${item.price})">+ Add to Cart</button>
                `;
                container.appendChild(card);
            });
        }

        function showCategory(category) {
            currentCategory = category;
            document.querySelectorAll('.category-btn').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
            loadItems();
        }

        function addToCart(name, price) {
            const existing = cart.find(item => item.name === name);
            if (existing) existing.quantity++;
            else cart.push({name, price, quantity: 1});
            updateCart();
        }

        function updateCart() {
            const count = cart.reduce((sum, item) => sum + item.quantity, 0);
            const total = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
            
            document.getElementById('cart-count').textContent = count;
            document.getElementById('cart-total').textContent = 'Rs. ' + total;
            
            const cartItems = document.getElementById('cart-items');
            if (cart.length === 0) {
                cartItems.innerHTML = '<p class="text-gray-400 text-center py-4">Cart is empty</p>';
            } else {
                cartItems.innerHTML = cart.map(item => `
                    <div class="flex justify-between items-center mb-3 p-2 bg-blue-900/30 rounded">
                        <div>
                            <p class="font-semibold text-sm">${item.name}</p>
                            <p class="text-xs text-gray-400">Rs. ${item.price} x ${item.quantity}</p>
                        </div>
                        <button onclick="removeFromCart('${item.name}')" class="text-red-400 hover:text-red-300">‚úï</button>
                    </div>
                `).join('');
            }
        }

        function removeFromCart(name) {
            cart = cart.filter(item => item.name !== name);
            updateCart();
        }

        function toggleCart() {
            document.getElementById('cart-sidebar').classList.toggle('hidden');
        }

        function checkout() {
            if (cart.length === 0) return alert('Cart is empty!');
            
            let message = 'New Order from Blue Bell Cafe:\n\n';
            let total = 0;
            cart.forEach(item => {
                message += `${item.name} x${item.quantity} = Rs. ${item.price * item.quantity}\n`;
                total += item.price * item.quantity;
            });
            message += `\nTotal: Rs. ${total}`;
            
            window.open(`https://wa.me/923212223727?text=${encodeURIComponent(message)}`, '_blank');
        }

        // Reservation Functions
        function openReservation() {
            document.getElementById('reservation-modal').classList.remove('hidden');
            document.getElementById('step1').classList.remove('hidden');
            document.getElementById('step2').classList.add('hidden');
            document.getElementById('res-date').value = new Date().toISOString().split('T')[0];
            
            document.getElementById('res-name').value = '';
            document.getElementById('res-phone').value = '';
            document.querySelectorAll('.time-slot').forEach(s => s.classList.remove('selected'));
            reservationData = {};
            selectedTable = null;
        }

        function closeReservation() {
            document.getElementById('reservation-modal').classList.add('hidden');
        }

        function selectTime(el, time) {
            document.querySelectorAll('.time-slot').forEach(s => s.classList.remove('selected'));
            el.classList.add('selected');
            reservationData.time = time;
        }

        function goToStep2() {
            const name = document.getElementById('res-name').value;
            const phone = document.getElementById('res-phone').value;
            const date = document.getElementById('res-date').value;
            const people = document.getElementById('res-people').value;
            
            if (!name || !phone || !date || !reservationData.time) {
                return alert('Please fill all fields and select time!');
            }
            
            reservationData = {...reservationData, name, phone, date, people};
            document.getElementById('step1').classList.add('hidden');
            document.getElementById('step2').classList.remove('hidden');
            generateTables();
        }

        function backToStep1() {
            document.getElementById('step2').classList.add('hidden');
            document.getElementById('step1').classList.remove('hidden');
        }

        function generateTables() {
            const grid = document.getElementById('table-grid');
            grid.innerHTML = '';
            
            const currentBookings = JSON.parse(localStorage.getItem('bluebell_bookings')) || [];
            
            const bookedTables = currentBookings
                .filter(b => b.date === reservationData.date && b.time === reservationData.time && b.status !== 'cancelled')
                .map(b => b.table);
            
            for (let i = 1; i <= 16; i++) {
                const btn = document.createElement('button');
                const isBooked = bookedTables.includes(i);
                btn.className = `table-btn ${isBooked ? 'booked' : ''}`;
                btn.innerHTML = `<span class="text-2xl">${isBooked ? 'üî¥' : 'üü¢'}</span><span class="text-xs mt-1">T-${i}</span>`;
                
                if (!isBooked) {
                    btn.onclick = () => {
                        document.querySelectorAll('.table-btn').forEach(b => {
                            if (!b.classList.contains('booked')) b.classList.remove('selected');
                        });
                        btn.classList.add('selected');
                        selectedTable = i;
                    };
                }
                grid.appendChild(btn);
            }
        }

        function confirmReservation() {
            if (!selectedTable) return alert('Please select a table!');
            
            const booking = {
                id: 'BB-' + Math.floor(10000 + Math.random() * 90000),
                ...reservationData,
                table: selectedTable,
                status: 'pending',
                createdAt: new Date().toISOString()
            };
            
            bookings.push(booking);
            localStorage.setItem('bluebell_bookings', JSON.stringify(bookings));
            
            currentBooking = booking;
            showReceipt(booking);
            closeReservation();
        }

        function showReceipt(booking) {
            document.getElementById('receipt-modal').classList.remove('hidden');
            document.getElementById('booking-id').textContent = booking.id;
            document.getElementById('receipt-name').textContent = booking.name;
            document.getElementById('receipt-phone').textContent = booking.phone;
            document.getElementById('receipt-date').textContent = booking.date;
            document.getElementById('receipt-time').textContent = booking.time;
            document.getElementById('receipt-people').textContent = booking.people + ' People';
            document.getElementById('receipt-table').textContent = 'Table ' + booking.table;
            document.getElementById('booking-time').textContent = new Date().toLocaleString();
            
            document.getElementById('qrcode').innerHTML = '';
            new QRCode(document.getElementById('qrcode'), {
                text: booking.id,
                width: 150,
                height: 150,
                colorDark: "#000000",
                colorLight: "#ffffff",
                correctLevel: QRCode.CorrectLevel.H
            });
        }

        function closeReceipt() {
            document.getElementById('receipt-modal').classList.add('hidden');
        }

        function downloadReceiptImage() {
            const receiptContent = document.getElementById('receipt-content');
            
            html2canvas(receiptContent, {
                scale: 2,
                backgroundColor: '#ffffff',
                useCORS: true,
                height: receiptContent.scrollHeight,
                windowHeight: receiptContent.scrollHeight
            }).then(canvas => {
                const link = document.createElement('a');
                link.download = `BlueBell-Receipt-${currentBooking.id}.png`;
                link.href = canvas.toDataURL('image/png');
                link.click();
                
                alert('‚úÖ Receipt downloaded! Show this at the restaurant.');
            }).catch(err => {
                console.error('Error:', err);
                alert('Error downloading. Please take a screenshot!');
            });
        }

        function printReceipt() {
            const printContent = document.getElementById('receipt-content').innerHTML;
            const printWindow = window.open('', '_blank');
            printWindow.document.write(`
                <html>
                <head>
                    <title>Blue Bell Cafe - Receipt</title>
                    <style>
                        body { font-family: Arial, sans-serif; padding: 20px; max-width: 400px; margin: 0 auto; }
                        .booking-id { background: #00d4ff; padding: 15px; text-align: center; font-size: 1.5rem; font-weight: bold; border-radius: 8px; margin: 15px 0; }
                    </style>
                </head>
                <body>
                    ${printContent}
                    <script>window.print();<\/script>
                </body>
                </html>
            `);
            printWindow.document.close();
        }

        // Admin Functions
        function openAdmin() {
            document.getElementById('admin-login-modal').classList.remove('hidden');
        }

        function closeAdminLogin() {
            document.getElementById('admin-login-modal').classList.add('hidden');
        }

        function loginAdmin() {
            const user = document.getElementById('admin-user').value;
            const pass = document.getElementById('admin-pass').value;
            
            if (user === 'admin' && pass === 'bluebell123') {
                closeAdminLogin();
                openAdminDashboard();
            } else {
                alert('Wrong username or password!');
            }
        }

        function openAdminDashboard() {
            document.getElementById('admin-dashboard').classList.remove('hidden');
            loadBookings();
        }

        function closeAdminDashboard() {
            document.getElementById('admin-dashboard').classList.add('hidden');
        }

        function logoutAdmin() {
            closeAdminDashboard();
        }

        function loadBookings() {
            bookings = JSON.parse(localStorage.getItem('bluebell_bookings')) || [];
            
            const list = document.getElementById('bookings-list');
            const today = new Date().toISOString().split('T')[0];
            const todayBookings = bookings.filter(b => b.date === today);
            
            document.getElementById('stat-pending').textContent = todayBookings.filter(b => b.status === 'pending').length;
            document.getElementById('stat-checked').textContent = todayBookings.filter(b => b.status === 'checked').length;
            document.getElementById('stat-total').textContent = todayBookings.length;
            
            if (todayBookings.length === 0) {
                list.innerHTML = '<p class="text-center text-gray-400 py-8">No bookings for today</p>';
                return;
            }
            
            list.innerHTML = todayBookings.sort((a,b) => b.createdAt.localeCompare(a.createdAt)).map(b => `
                <div class="admin-card mb-3 flex justify-between items-center">
                    <div>
                        <div class="flex items-center gap-3 mb-1">
                            <span class="text-cyan-400 font-bold text-lg">${b.id}</span>
                            <span class="status-badge status-${b.status}">${b.status.toUpperCase()}</span>
                        </div>
                        <p class="text-sm"><strong>${b.name}</strong> | ${b.phone}</p>
                        <p class="text-xs text-gray-400">Table ${b.table} | ${b.time} | ${b.people} people</p>
                    </div>
                    <div class="flex gap-2">
                        ${b.status === 'pending' ? `
                            <button onclick="manualCheckIn('${b.id}')" class="bg-green-600 text-white px-3 py-1 rounded text-sm">Check In</button>
                        ` : '<span class="text-green-400 text-2xl">‚úì</span>'}
                    </div>
                </div>
            `).join('');
        }

        function searchBookings() {
            const query = document.getElementById('search-booking').value.toLowerCase();
            const list = document.getElementById('bookings-list');
            
            const filtered = bookings.filter(b => 
                b.id.toLowerCase().includes(query) || 
                b.phone.includes(query) ||
                b.name.toLowerCase().includes(query)
            );
            
            if (filtered.length === 0) {
                list.innerHTML = '<p class="text-center text-gray-400 py-8">No bookings found</p>';
                return;
            }
            
            list.innerHTML = filtered.map(b => `
                <div class="admin-card mb-3 flex justify-between items-center">
                    <div>
                        <div class="flex items-center gap-3 mb-1">
                            <span class="text-cyan-400 font-bold text-lg">${b.id}</span>
                            <span class="status-badge status-${b.status}">${b.status.toUpperCase()}</span>
                        </div>
                        <p class="text-sm"><strong>${b.name}</strong> | ${b.phone}</p>
                        <p class="text-xs text-gray-400">Table ${b.table} | ${b.date} | ${b.time}</p>
                    </div>
                    <div class="flex gap-2">
                        ${b.status === 'pending' ? `
                            <button onclick="manualCheckIn('${b.id}')" class="bg-green-600 text-white px-3 py-1 rounded text-sm">Check In</button>
                        ` : ''}
                    </div>
                </div>
            `).join('');
        }

        function refreshBookings() {
            bookings = JSON.parse(localStorage.getItem('bluebell_bookings')) || [];
            loadBookings();
            document.getElementById('search-booking').value = '';
        }

        function manualCheckIn(id) {
            const booking = bookings.find(b => b.id === id);
            if (booking) {
                booking.status = 'checked';
                localStorage.setItem('bluebell_bookings', JSON.stringify(bookings));
                loadBookings();
                alert(`‚úÖ Booking ${id} checked in!`);
            }
        }

        // QR Scanner
        function openScanner() {
            document.getElementById('scanner-modal').classList.remove('hidden');
            document.getElementById('scan-result').classList.add('hidden');
            
            html5QrCode = new Html5Qrcode("reader");
            html5QrCode.start(
                { facingMode: "environment" },
                { fps: 10, qrbox: { width: 250, height: 250 } },
                onScanSuccess,
                onScanError
            );
        }

        function closeScanner() {
            if (html5QrCode) {
                html5QrCode.stop().then(() => html5QrCode.clear());
            }
            document.getElementById('scanner-modal').classList.add('hidden');
        }

        function onScanSuccess(decodedText) {
            const booking = bookings.find(b => b.id === decodedText && b.status === 'pending');
            
            if (booking) {
                currentScanBooking = booking;
                document.getElementById('scan-result').classList.remove('hidden');
                document.getElementById('scan-details').innerHTML = `
                    <strong>Booking ID:</strong> ${booking.id}<br>
                    <strong>Name:</strong> ${booking.name}<br>
                    <strong>Table:</strong> ${booking.table}<br>
                    <strong>Time:</strong> ${booking.time}
                `;
                html5QrCode.stop();
            } else {
                alert('Invalid or already checked-in booking!');
            }
        }

        function onScanError(error) {}

        function markCheckedIn() {
            if (currentScanBooking) {
                currentScanBooking.status = 'checked';
                localStorage.setItem('bluebell_bookings', JSON.stringify(bookings));
                closeScanner();
                loadBookings();
                alert(`‚úÖ Booking ${currentScanBooking.id} checked in!`);
                currentScanBooking = null;
            }
        }

        // Initialize
        loadItems();
        updateCart();
    </script>
</body>
</html>
